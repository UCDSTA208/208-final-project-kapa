%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% WikiBooks (http://en.wikibooks.org/wiki/LaTeX/Title_Creation)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\title{Title page with logo}
%--------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%-------------------------------------------------------------

\documentclass[12pt]{article}
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{floatrow} 
\newfloatcommand{capbtabbox}{table}[][\FBwidth]
\usepackage{fancyhdr} % Required for custom headers
\usepackage{lastpage} % Required to determine the last page for the footer
\usepackage{extramarks} % Required for headers and footers
\usepackage{lipsum} % Used for inserting dummy 'Lorem ipsum' text into the template
\usepackage{bm}
\usepackage{float}
\usepackage{mathtools}
\usepackage{enumerate}
\usepackage{amssymb}
\usepackage{booktabs}
\usepackage{subcaption}
\usepackage{caption}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage{multirow}
\usepackage{amsmath,booktabs,colortbl}



% Margins
\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in 
\linespread{1.1} % Line spacing

% Set up the header and footer
\pagestyle{fancy}
\lhead{}
\chead{Spam Email Detection} % Top center header
\rhead{\firstxmark} % Top right header
\lfoot{\lastxmark} % Bottom left footer
\cfoot{} % Bottom center footer
\rfoot{Page\ \thepage\ of\ \pageref{LastPage}} % Bottom right footer
\renewcommand\headrulewidth{0.4pt} % Size of the header rule
\renewcommand\footrulewidth{0.4pt} % Size of the footer rule

\setlength\parindent{0pt} % Removes all indentation from paragraphs



\begin{document}

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here

\center % Center everything on the page
 
%--------------------------------------------------------------
%	HEADING SECTIONS
%--------------------------------------------------------------

\textsc{\LARGE University of California Davis }\\[0.3cm] 
\textsc{\Large Department of Statistics}\\[0.5cm] 
 % Minor heading such as course title

%--------------------------------------------------------------
%	TITLE SECTION
%--------------------------------------------------------------

\HRule \\[0.4cm]
{ \huge \bfseries Machine Learning\\  (STA-208)}\\[0.03cm]
\HRule \\[1.5cm]

\hfill \break \hfill \break \hfill \break
\hfill \break \hfill \break \hfill \break 
\hfill \break \hfill \break \hfill \break
\hfill \break

{\large Ying-Chen Chou \\ Chia-Hui Shen \\Jiahui Tan\\ Pei-Ying Ling}\\

\hfill \break

\includegraphics[width=4cm]{./plots/logo.png}\\[1cm] 


 
%--------------------------------------------------------------

\vfill % Fill the rest of the page with whitespace

\end{titlepage}

\newpage
\tableofcontents
\newpage
%--------------------------------------------------------------
%Project Start
%--------------------------------------------------------------
\section{Introduction} \label{sec:Intro}

\input{./TEX_files/intro.tex}

\section{Description of Data} \label{sec:Descript}

\subsection{Data Preprocessing}

\input{./TEX_files/DataPreprocess.tex}

\subsection{Top 10 Words Per Year}

\input{./TEX_files/Top10word.tex}

\subsection{Word Cloud}

\input{./TEX_files/wordCloud.tex}

\section{Previous Studies}
\input{./TEX_files/PreviousStudies.tex}

\section{Method}

\subsection{Feature Engineering}
\input{./TEX_files/FeatureEngineering.tex}

\subsection{Fit Models}
\subsubsection{Navie Bayes}
\input{./TEX_files/NB.tex}

\begin{table}[H]
		\begin{floatrow}
				\capbtabbox{  
						\begin{subtable}{.45\textwidth}
								\centering
								\begin{tabular}{@{}|c|c|c|c|@{}}
										\toprule
										\multicolumn{2}{|c|}{\multirow{2}{*}{Unit-gram}} & \multicolumn{2}{c|}{Actual} \\ \cmidrule(l){3-4} 
										\multicolumn{2}{|c|}{}                        & Ham          & Spam         \\ \midrule
										\multirow{2}{*}{Predicted}       & Ham        & 15123        & 9877         \\ \cmidrule(l){2-4} 
										& Spam       & 3054         & 19919        \\ \bottomrule
									\end{tabular}
								
								\begin{tabular}{@{}|c|c|c|c|@{}}
										\toprule
										\multicolumn{2}{|c|}{\multirow{2}{*}{Bi-gram}} & \multicolumn{2}{c|}{Actual} \\ \cmidrule(l){3-4} 
										\multicolumn{2}{|c|}{}                        & Ham          & Spam         \\ \midrule
										\multirow{2}{*}{Predicted}       & Ham        & 14905        & 9624         \\ \cmidrule(l){2-4} 
										& Spam       & 3416         & 20020        \\ \bottomrule
									\end{tabular}
							\end{subtable}
					}{  
						\caption{Confusion Matrix with Naive Bayes}  
						\label{Confusion_NB}  
					}  
				\capbtabbox{  
						\begin{subtable}{.45\textwidth}
								\centering
								\begin{tabular}{@{}|c|c|c|c|@{}}
										\toprule
										\multicolumn{2}{|c|}{\multirow{2}{*}{Unit-gram}} & \multicolumn{2}{c|}{Actual} \\ \cmidrule(l){3-4} 
										\multicolumn{2}{|c|}{}                        & Ham          & Spam         \\ \midrule
										\multirow{2}{*}{Predicted}       & Ham        & 16837        & 1167         \\ \cmidrule(l){2-4} 
										& Spam       & 1484         & 28477        \\ \bottomrule
									\end{tabular}
								
								\begin{tabular}{@{}|c|c|c|c|@{}}
										\toprule
										\multicolumn{2}{|c|}{\multirow{2}{*}{Bi-gram}} & \multicolumn{2}{c|}{Actual} \\ \cmidrule(l){3-4} 
										\multicolumn{2}{|c|}{}                        & Ham          & Spam         \\ \midrule
										\multirow{2}{*}{Predicted}       & Ham        & 16787        & 1353         \\ \cmidrule(l){2-4} 
										& Spam       & 1534         & 28291        \\ \bottomrule
									\end{tabular}
							\end{subtable}
					}{  
						\caption{Confusion Matrix For Decision Tree}  
						\label{Confusion_DT}  
					}  
			\end{floatrow}
	\end{table} 


\subsubsection{Decision Tree}

\input{./TEX_files/DecisionTree.tex}


\subsubsection{SVMs}
\input{./TEX_files/SVM.tex}

\subsubsection{MLP}
\input{./TEX_files/MLP.tex}


\subsubsection{KNN}
\input{./TEX_files/KNN.tex}

\begin{table}[H]
					\centering
		\begin{floatrow}
				\capbtabbox{  
						\begin{subtable}{.45\textwidth}
				
							\begin{tabular}{@{}|c|c|c|c|@{}}
									\toprule
									\multicolumn{2}{|c|}{\multirow{2}{*}{Unit-gram}} & \multicolumn{2}{c|}{Actual} \\ \cmidrule(l){3-4} 
									\multicolumn{2}{|c|}{}                        & Ham          & Spam         \\ \midrule
									\multirow{2}{*}{Predicted}       & Ham        & 17331        & 651          \\ \cmidrule(l){2-4} 
									& Spam       & 990          & 28993        \\ \bottomrule
								\end{tabular}
							\begin{tabular}{@{}|c|c|c|c|@{}}
									\toprule
									\multicolumn{2}{|c|}{\multirow{2}{*}{Bi-gram}} & \multicolumn{2}{c|}{Actual} \\ \cmidrule(l){3-4} 
									\multicolumn{2}{|c|}{}                        & Ham          & Spam         \\ \midrule
									\multirow{2}{*}{Predicted}       & Ham        & 17405        & 626          \\ \cmidrule(l){2-4} 
									& Spam       & 916          & 29018        \\ \bottomrule
								\end{tabular}
						\end{subtable}
					}{  
						\caption{Confusion Matrix For KNN}  
						\label{Confusion_KNN}  
					}  
				\capbtabbox{  
						\begin{subtable}{.45\textwidth}
								\centering
								\begin{tabular}{@{}|c|c|c|c|@{}}
										\toprule
										\multicolumn{2}{|c|}{\multirow{2}{*}{Unit-gram}} & \multicolumn{2}{c|}{Actual} \\ \cmidrule(l){3-4} 
										\multicolumn{2}{|c|}{}                        & Ham          & Spam         \\ \midrule
										\multirow{2}{*}{Predicted}       & Ham        & 16343       & 1375          \\ \cmidrule(l){2-4} 
										& Spam       & 1834          & 28413        \\ \bottomrule
									\end{tabular}
								\begin{tabular}{@{}|c|c|c|c|@{}}
										\toprule
										\multicolumn{2}{|c|}{\multirow{2}{*}{Bi-gram}} & \multicolumn{2}{c|}{Actual} \\ \cmidrule(l){3-4} 
										\multicolumn{2}{|c|}{}                        & Ham          & Spam         \\ \midrule
										\multirow{2}{*}{Predicted}       & Ham        & 16705        & 1336          \\ \cmidrule(l){2-4} 
										& Spam       & 1616          & 28308        \\ \bottomrule
									\end{tabular}
							\end{subtable}
					}{  
						\caption{Confusion Matrix For Logistic}  
						\label{Confusion_Logistic}  
					}  
			\end{floatrow}
	\end{table} 



\subsubsection{Logistic}
\input{./TEX_files/Logistic.tex}


\section{Conclusion and exploration}

\input{./TEX_files/Conclusion.tex}

\section{Reference}

\end{document}
